<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="robots" content="noai, noimageai">
    <title>Dissertation Typesetting Considerations · Tony Zorman</title>
    <!-- Default appearance -->
    <link rel="stylesheet" type="text/css" href="../css/navbar.css">
    <link rel="stylesheet" type="text/css" href="../css/colours.css">
    <link rel="stylesheet" type="text/css" href="../css/fonts.css">
    <link rel="stylesheet" type="text/css" href="../css/default.css">
    <!-- Syntax highlighting -->
    <link rel="stylesheet" type="text/css" href="../css/pygments.css">
    <link rel="stylesheet" type="text/css" href="../css/katex.css">
    <!-- Margin and sidenotes -->
    <link rel="stylesheet" type="text/css" href="../css/sidenotes.css">
  </head>

  <body>
    <div class="navbar-space">
      <div id="navigation">
        <a href="../" class="menu-title">Tony's blog</a>
        <ul>
          <li><a href="../posts.html">Posts</a></li>
          <li><a href="../research.html">Research</a></li>
          <li><a href="../free-software.html">Free Software</a></li>
          <li><a href="../about.html">About</a></li>
        </ul>
      </div>
      <!-- A table of contents on the left side, but only for screens that are big enough -->
      <div id="contents-big">
        <p class="mini-header">Contents <a id="up-arrow" href="#">↑</a></p>
        <ul>
<li><a href="#the-document-class">The document class</a></li>
<li><a href="#the-page-layout">The page layout</a>
<ul>
<li><a href="#chapter-headings">Chapter headings</a></li>
<li><a href="#the-margin">The margin</a></li>
</ul></li>
<li><a href="#picking-fonts">Picking fonts</a></li>
<li><a href="#miscellaneous-thoughts">Miscellaneous thoughts</a></li>
</ul>
      </div>
    </div>
    <div class="text-space">
      <div id="content">
        <article>
    <div class="header">
      13th Apr 2025–8 Feb 2026
        &nbsp;&nbsp;·&nbsp;&nbsp;&nbsp;<span title="2033 words">9 min read</span>&nbsp;&nbsp;&nbsp;·&nbsp;&nbsp;
        <a title="All pages tagged '#LaTeX'." href="../tags/LaTeX.html" rel="tag">#LaTeX</a>
      </div>
    <h1 class="post-title">Dissertation Typesetting Considerations</h1>
    <div id="title-underline"></div>
    <section>
      <!-- A table of contents inline in the text, in case the screen is
           too small for the one in the `default.html' template -->
      <div id="contents">
    <p class="mini-header">Contents</p>
    <ul>
<li><a href="#the-document-class">The document class</a></li>
<li><a href="#the-page-layout">The page layout</a>
<ul>
<li><a href="#chapter-headings">Chapter headings</a></li>
<li><a href="#the-margin">The margin</a></li>
</ul></li>
<li><a href="#picking-fonts">Picking fonts</a></li>
<li><a href="#miscellaneous-thoughts">Miscellaneous thoughts</a></li>
</ul>
  </div>
I just handed in my dissertation,<!--
--><label for="sn-0" class="margin-toggle">⊕</label><input type="checkbox" id="sn-0" class="margin-toggle" /><div class="marginnote">The thesis is available <a href="https://tony-zorman.com/dissertation.pdf" class="local-link">here</a>,
and you can also check out the <a href="https://github.com/slotThe/dissertation">full source code</a>.
For more information, also check <a href="https://tony-zorman.com/research#theses" class="local-link">here</a>.
<p></p>
This post is also available as an
<a href="https://tug.org/TUGboat/tb46-3/tb144zorman-thesis.html">article</a>
in <a href="https://tug.org/TUGboat/tb46-3/">TUGboat 46:3</a>.
I’ve made the <a href="https://codeberg.org/slotThe/tb144">source code</a>
for the LaTeX version available as well.</div><!--
-->
which is more or less the culmination of the last three and a half years of my (mathematical) life.
While the maths itself is perhaps relatively inaccessible to the general public,
some of the typesetting considerations that went into the document might not be.
<!--more-->
<p></p>
For reference, here are a few pages of how the end product looks like:
<figure>
<a href="../images/phd-typesetting/look1.pdf">
<img class="pure-img" src="../images/phd-typesetting/look1.png" alt="Two pages, one features a chapter beginning.">
</a>
</figure>
<figure>
<a href="../images/phd-typesetting/look2.pdf">
<img class="pure-img" src="../images/phd-typesetting/look2.png" alt="Two pages of the preliminaries.">
</a>
</figure>
<p></p>
While this post really is about typography,
I will say that making LaTeX
<a href="https://tony-zorman.com/posts/speeding-up-latex.html" class="local-link">acceptably fast</a>
for these kinds of medium-sized documents really helped preserve an epsilon of sanity.
Fiddling around with preamble precompiling and externalisation <span class="nowrap">is—</span>while <span class="nowrap">painful—</span>definitely worth it.
<h2 id="the-document-class">The document class<a href="#the-document-class" class="floatleft sec-link">§</a></h2>
<p></p>
I flip-flopped between the only two relevant contenders:
<a href="https://ctan.org/pkg/memoir">memoir</a>
and
<a href="https://ctan.org/pkg/koma-script"><span class="small-caps">koma</span>-script</a> (which features the <code>scrbook</code> class).
In the end, memoir won solely because I found the manual more pleasant to read,
and thus had an easier time customising things.<!--
--><label for="sn-1" class="margin-toggle sidenote-number"></label><input type="checkbox" id="sn-1" class="margin-toggle" /><div class="sidenote">It is also much more extensive. Both manuals clock in at around 600 pages,
but the memoir manual is only about one class!
There are also a bunch of concrete and extensive examples, which are very good to learn from.</div><!--
-->
I also had the feeling that memoir laid a more heavy emphasis on typographical considerations,
but this might be because I didn’t read the <span class="small-caps">koma</span>-script manual as closely.
This choice did probably not matter all that much in the grand scheme of things,
but I’m quite happy with memoir and would recommend it for any kind of book-length project.
<h2 id="the-page-layout">The page layout<a href="#the-page-layout" class="floatleft sec-link">§</a></h2>
<p></p>
The default <code>a4paper</code> page layout that memoir has is <em>fine</em>,
though <code>\isopage</code><span class="nowrap">—</span>inspired by page dimensions suggested by Robert <span class="nowrap">Bringhurst—</span>yields a nicer looking printout in my opinion.
This is especially true with a slightly larger font size,
which is more or less mandatory if you have to print something in as big of a format as A4.
<p></p>
<!--
--><label for="sn-2" class="margin-toggle">⊕</label><input type="checkbox" id="sn-2" class="margin-toggle" /><div class="marginnote">The different default page layouts for A4 paper, taken from the memoir manual.</div><!--
--><img class="pure-img" src="../images/phd-typesetting/memoir-pagelayout.png" alt="The different page layouts that memoir offers: the default for a4paper, \medievalpage, \isopage, and \semiisopage.">
<p></p>
Being a little bit wider, it is also good for long-ish formulas and large-ish diagrams,
of which my thesis has more than enough.
Together with my chosen fonts below,
the final page layout results in a maximum of about 72 characters per line.
This is on the higher side of what I would prefer,
but either increasing the font size or decreasing the margins
would impede too much on the actual content,
so I kept it this way.
<p></p>
<span class="nowrap">Sidenotes—</span>much more on that <span class="nowrap">later—</span>are constrained to a maximum of around 21 characters via
<div class="highlight-tex" style="padding-left: 1em;"><pre><span></span><span class="k">\setmarginnotes</span><span class="nb">{</span>17pt<span class="nb">}{</span>80pt<span class="nb">}{</span><span class="k">\onelineskip</span><span class="nb">}</span>
</pre></div>
<p></p>
This is quite narrow,
much narrower than the sidenotes on this website for example,
but still workable.
It certainly helps me to not go overboard with them,
which is not advisable anyways given the context of a dissertation in mathematics;
their mere existence probably stretches my
<a href="https://shimweasel.com/2018/08/25/novelty-budgets">novelty budget</a>
quite a bit.
<h3 id="chapter-headings">Chapter headings<a href="#chapter-headings" class="floatleft sec-link">§</a></h3>
<p></p>
For chapter headings memoir features a <code>bringhurst</code> chapter style,
which however doesn’t include the chapter number beside it:
<p></p>
<img class="pure-img" src="../images/phd-typesetting/no-chapter-number.png" alt="The default memoir style does not feature a chapter number.">
<p></p>
The famous book <span class="citation" data-cites="bringhurst92:el-typ">[<a href="#ref-bringhurst92:el-typ" role="doc-biblioref">Brin92</a>]</span> puts a rather large number in the margin,
which is also what I ended up going with (see the first double page in this post).
Thankfully, this is not difficult to <span class="nowrap">fix—</span>so much so that someone on TeX.Stackexchange has
<a href="https://tex.stackexchange.com/questions/88895/bringhurst-chapter-style-in-memoir">already done it</a>.
The exact <code>bringhurst.sty</code> file I used is <a href="../images/phd-typesetting/bringhurst.txt" class="local-link">here</a>;
to use it just replace the call to <code>\chapterstyle</code> with a call to <code>\usepackage</code>:

<div class="highlight-tex" style="padding-left: 1em;"><pre><span></span><span class="k">\usepackage</span><span class="nb">{</span>bringhurst<span class="nb">}</span><span class="c">% Instead of \chapterstyle{bringhurst}</span>
</pre></div>
<h3 id="the-margin">The margin<a href="#the-margin" class="floatleft sec-link">§</a></h3>
As you can probably tell from this website,<!--
--><label for="sn-3" class="margin-toggle sidenote-number"></label><input type="checkbox" id="sn-3" class="margin-toggle" /><div class="sidenote">Unless you’re on mobile, I suppose.</div><!--
--> I <em>love</em> sidenotes.
Sadly, this is about where one hits their first bump,
in that memoir and the
<a href="https://ctan.org/pkg/sidenotes">sidenotes</a> package
are incompatible.
For example, both define a <code>\sidecaption</code> command,
and both import <code>changepage</code>, although with different options.
However, LaTeX’s error messages are actually comprehensible in these cases,
so patching the sidenotes package is straightforward.
<details>
<summary>
Here is the diff
</summary>

<div class="highlight-diff" style="padding-left: 1em;"><pre><span></span><span class="gh">diff --git a/sidenotes.sty b/sidenotes.sty</span>
<span class="gh">index df6a772..cdb866d 100644</span>
<span class="gd">--- a/sidenotes.sty</span>
<span class="gi">+++ b/sidenotes.sty</span>
<span class="gu">@@ -7,7 +7,6 @@</span>
<span class="w"> </span>\RequirePackage{marginnote} % Provides an offset option for the marginals instead of a float
<span class="w"> </span>\RequirePackage{caption} % Handles the captions (in the margin)
<span class="w"> </span>\RequirePackage{xparse} % New LaTeX3 syntax to define macros and environments
<span class="gd">-\RequirePackage[strict]{changepage} % Changepage package for symmetric twoside handling</span>
<span class="w"> </span>\ExplSyntaxOn
<span class="w"> </span>\keys_define:nn { sidenotes }
<span class="w"> </span>  {
<span class="gu">@@ -88,51 +87,6 @@</span>
<span class="w"> </span>}
<span class="w"> </span>    {\@sidenotes@placemarginal{#2}{\textsuperscript{#1}~#3}}
<span class="w"> </span>}
<span class="gd">-\DeclareCaptionStyle{sidecaption}{font=footnotesize}</span>
<span class="gd">-\NewDocumentCommand \sidecaption {s o o m}</span>
<span class="gd">-{</span>
<span class="gd">-  \captionsetup{style=sidecaption}</span>
<span class="gd">-  \IfBooleanTF{#1}</span>
<span class="gd">-  { % starred</span>
<span class="gd">-    \IfNoValueOrEmptyTF{#2}</span>
<span class="gd">-    {\marginnote{\caption*{#4}}}</span>
<span class="gd">-    {\marginnote{\caption*{#4}}[#2]}</span>
<span class="gd">-  }</span>
<span class="gd">-  { % unstarred</span>
<span class="gd">-  \IfNoValueOrEmptyTF{#2}</span>
<span class="gd">-    {\def\@sidenotes@sidecaption@tof{#4}}</span>
<span class="gd">-    {\def\@sidenotes@sidecaption@tof{#2}}</span>
<span class="gd">-  \IfNoValueOrEmptyTF{#3}</span>
<span class="gd">-    {\marginnote{\caption[\@sidenotes@sidecaption@tof]{#4}}}</span>
<span class="gd">-    {\marginnote{\caption[\@sidenotes@sidecaption@tof]{#4}}[#3]}</span>
<span class="gd">-  }</span>
<span class="gd">-}</span>
<span class="gd">-\newsavebox{\@sidenotes@marginfigurebox}</span>
<span class="gd">-\DeclareCaptionStyle{marginfigure}{font=footnotesize}</span>
<span class="gd">-\NewDocumentEnvironment{marginfigure} { o }</span>
<span class="gd">-{</span>
<span class="gd">-  \begin{lrbox}{\@sidenotes@marginfigurebox}</span>
<span class="gd">-    \begin{minipage}{\marginparwidth}</span>
<span class="gd">-      \captionsetup{type=figure,style=marginfigure}</span>
<span class="gd">-}</span>
<span class="gd">-{</span>
<span class="gd">-    \end{minipage}%</span>
<span class="gd">-  \end{lrbox}%</span>
<span class="gd">-  \@sidenotes@placemarginal{#1}{\usebox{\@sidenotes@marginfigurebox}}</span>
<span class="gd">-}</span>
<span class="gd">-\newsavebox{\@sidenotes@margintablebox}</span>
<span class="gd">-\DeclareCaptionStyle{margintable}{font=footnotesize}</span>
<span class="gd">-\NewDocumentEnvironment{margintable} { o }</span>
<span class="gd">-{</span>
<span class="gd">-  \begin{lrbox}{\@sidenotes@margintablebox}</span>
<span class="gd">-    \begin{minipage}{\marginparwidth}</span>
<span class="gd">-      \captionsetup{type=table,style=margintable}</span>
<span class="gd">-}</span>
<span class="gd">-{</span>
<span class="gd">-    \end{minipage}</span>
<span class="gd">-  \end{lrbox}</span>
<span class="gd">-  \@sidenotes@placemarginal{#1}{\usebox{\@sidenotes@margintablebox}}</span>
<span class="gd">-}</span>
<span class="w"> </span>\AtBeginDocument{%
<span class="w"> </span>\newlength{\@sidenotes@extrawidth}
<span class="w"> </span>\setlength{\@sidenotes@extrawidth}{\marginparwidth}
</pre></div>
</details>
<p></p>
The <code>\sidenote</code> command now works as expected;
I wrote a small wrapper that additionally sets sidenotes ragged left or right,
depending on the parity of the page.

<div class="highlight-tex" style="padding-left: 1em;"><pre><span></span><span class="k">\usepackage</span><span class="nb">{</span>sidenotes<span class="nb">}</span>  <span class="c">% Local one.</span>
<span class="k">\usepackage</span><span class="nb">{</span>mparhack<span class="nb">}</span>
<span class="k">\renewcommand*</span><span class="nb">{</span><span class="k">\marginfont</span><span class="nb">}{</span><span class="k">\scriptsize</span><span class="nb">}</span>
<span class="k">\renewcommand</span><span class="nb">{</span><span class="k">\note</span><span class="nb">}</span>[1]<span class="nb">{</span><span class="c">%</span>
  <span class="k">\sidenote</span><span class="nb">{</span><span class="c">%</span>
    <span class="k">\scriptsize</span>
    <span class="k">\checkoddpage</span><span class="c">%</span>
    <span class="k">\ifoddpage</span><span class="c">%</span>
      <span class="k">\raggedright</span><span class="c">%</span>
    <span class="k">\else</span>
      <span class="k">\raggedleft</span><span class="c">%</span>
    <span class="k">\fi</span>
    <span class="nb">{</span>#1<span class="nb">}</span><span class="c">%</span>
  <span class="nb">}</span><span class="c">%</span>
<span class="nb">}</span>
</pre></div>
<figure>
<a href="../images/phd-typesetting/look3.pdf">
<img class="pure-img" src="../images/phd-typesetting/look3.png" alt="Two pages with sidenotes; one set raggedright and one raggedleft.">
</a>
</figure>
<p></p>
Interestingly, I don’t actually use the <code>\sidecaption</code> implementation of either memoir or sidenotes,
but chose to roll my own:

<div class="highlight-tex" style="padding-left: 1em;"><pre><span></span><span class="c">% Mandatory argument contains the label text and the label itself;</span>
<span class="c">% the optional argument moves the label text around.</span>
<span class="k">\renewcommand</span><span class="nb">{</span><span class="k">\scaption</span><span class="nb">}</span>[2][0cm]<span class="nb">{</span><span class="c">%</span>
  <span class="k">\marginnote</span><span class="nb">{</span><span class="c">%</span>
    <span class="k">\vspace</span><span class="nb">{</span>#1<span class="nb">}</span><span class="c">%</span>
    <span class="k">\caption</span><span class="nb">{</span><span class="c">%</span>
      <span class="k">\checkoddpage</span><span class="c">%</span>
      <span class="k">\ifoddpage</span><span class="c">%</span>
        <span class="k">\raggedright</span><span class="c">%</span>
      <span class="k">\else</span>
        <span class="k">\raggedleft</span><span class="c">%</span>
      <span class="k">\fi</span>
      <span class="nb">{</span>#2<span class="nb">}</span><span class="c">%</span>
    <span class="nb">}</span><span class="c">%</span>
  <span class="nb">}</span>
<span class="nb">}</span>
</pre></div>
<p></p>
This is probably less code than what it would take to customise memoir’s <code>\sidecaption</code> to do what I want,
and I get more control over the actual typesetting on top of it.
The price one pays is that the usage of <code>\scaption</code> is a tad unintuitive,
in that the <code>\label</code> of the figure has to go inside of the caption:

<div class="highlight-tex" style="padding-left: 1em;"><pre><span></span><span class="k">\begin</span><span class="nb">{</span>figure<span class="nb">}</span>[htbp]
  <span class="k">\centering</span>
  <span class="k">\tikzfig</span><span class="nb">{</span>the-figure<span class="nb">}</span>
  <span class="k">\scaption</span><span class="na">[3cm]</span><span class="nb">{</span><span class="c">%</span>
    The caption.<span class="c">%</span>
    <span class="k">\label</span><span class="nb">{</span>fig:the-label<span class="nb">}</span><span class="c">%</span>
  <span class="nb">}</span>
<span class="k">\end</span><span class="nb">{</span>figure<span class="nb">}</span>
</pre></div>
<p></p>
However, I think the end result looks quite nice:<!--
--><label for="sn-4" class="margin-toggle sidenote-number"></label><input type="checkbox" id="sn-4" class="margin-toggle" /><div class="sidenote">Additionally setup with the <code>caption</code> package:

<div class="highlight-tex" style="padding-left: 1em;"><pre><span></span><span class="k">\usepackage</span><span class="nb">{</span>caption<span class="nb">}</span>
<span class="k">\captionsetup</span><span class="nb">{</span><span class="c">%</span>
  style=base,<span class="c">%</span>
  labelfont=footnotesize,<span class="c">%</span>
  textfont=scriptsize,<span class="c">%</span>
<span class="nb">}</span>
</pre></div></div><!--
-->
<p></p>
<img class="pure-img" src="../images/phd-typesetting/captions.png" alt="Sidecaptions.">
<hr />
<p></p>
Another thing I did was pushing equation numbers into the margin.
Instead of
<p></p>
<img class="pure-img" src="../images/phd-typesetting/equations-before.png" alt="Default LaTeX equation labels.">
<p></p>
my thesis instead displays such an equation as
<p></p>
<img class="pure-img" src="../images/phd-typesetting/equations-after.png" alt="Equation labels in the margin.">
<p></p>
which in particular means that equation numbers are sometimes on the left of the page,
depending on where the margin is.
This is quite nice for larger diagrams or longer formulas,
which nevertheless still have to have an equation number.
Figures now neither need to intrude upon the margin,
nor be scaled quite so aggressively.
<figure>
<a href="../images/phd-typesetting/equations-in-margin.pdf">
<img class="pure-img" src="../images/phd-typesetting/equations-in-margin.png" alt="Double page example of equation labels in the margin.">
</a>
</figure>
<p></p>
The code for this is a bit more involved, but luckily TeX.Stackexchange has us covered yet again!

<div class="highlight-tex" style="padding-left: 1em;"><pre><span></span><span class="c">% Protrude equation numbers into the margin.</span>
<span class="c">%</span>
<span class="c">% Sources:</span>
<span class="c">%   - https://tex.stackexchange.com/questions/258574/placing-the-equation-number-in-the-left-hand-margin</span>
<span class="c">%   - https://www.overleaf.com/learn/latex/Page_size_and_margins</span>
<span class="k">\makeatletter</span>
<span class="k">\let\oldmaketag@@@\maketag@@@</span><span class="c">%</span>
<span class="k">\def\oldtagform@</span>#1<span class="nb">{</span><span class="k">\oldmaketag@@@</span><span class="nb">{</span>(<span class="k">\ignorespaces</span>#1<span class="k">\unskip\@@italiccorr</span>)<span class="nb">}}</span>
<span class="k">\renewcommand</span><span class="nb">{</span><span class="k">\eqref</span><span class="nb">}</span>[1]<span class="nb">{</span><span class="k">\textup</span><span class="nb">{</span><span class="k">\oldtagform@</span><span class="nb">{</span><span class="k">\ref</span><span class="nb">{</span>#1<span class="nb">}}}}</span>
<span class="k">\newlength</span><span class="nb">{</span><span class="k">\width@@</span><span class="nb">}</span>
<span class="k">\def\maketag@@@</span>#1<span class="nb">{</span><span class="k">\hbox</span><span class="nb">{</span><span class="k">\hskip</span>1sp<span class="k">\m@th\llap</span><span class="nb">{</span><span class="c">%</span>
      <span class="k">\normalfont</span>#1<span class="c">%</span>
      <span class="k">\settowidth</span><span class="nb">{</span><span class="k">\width@@</span><span class="nb">}{</span>#1<span class="nb">}</span><span class="c">%</span>
      <span class="k">\checkoddpage\ifoddpage\hspace</span><span class="nb">{</span>-<span class="k">\the\width@@</span>-<span class="k">\the\marginparsep</span><span class="nb">}</span>
      <span class="k">\else\hspace</span><span class="nb">{</span><span class="k">\textwidth</span>+<span class="k">\the\marginparsep</span>+.1cm<span class="nb">}</span><span class="k">\fi</span>
    <span class="nb">}}}</span>
<span class="k">\makeatother</span>
</pre></div>
<h2 id="picking-fonts">Picking fonts<a href="#picking-fonts" class="floatleft sec-link">§</a></h2>
<p></p>
For the default calligraphic font, I settled on <code>boondoxupr</code> from the excellently documented <code>mathalfa</code> package.
It changes the default Computer Modern alphabet
<p></p>
<img class="pure-img" src="../images/phd-typesetting/cm-script.png" alt="Computer modern (cm) calligraphic alphabet.">
<p></p>
to
<p></p>
<img class="pure-img" src="../images/phd-typesetting/bx-script.png" alt="boondoxupr calligraphic alphabet. Also features lower case letters.">
<p></p>
I also went ahead and chose a Fraktur font that is slightly less <span class="nowrap">bold—</span><code>esstix</code>.
<p></p>
<img class="pure-img" src="../images/phd-typesetting/esstix.png" alt="esstix fraktur alphabet. Also features lower case letters.">
<p></p>
However, much more important than that is a good text font.
For me, there are two top contenders here,
which is <a href="https://github.com/alerque/libertinus">Libertinus</a><span class="nowrap">—</span><!--
-->provided by the <a href="https://ctan.org/pkg/libertinus">libertinus</a> <span class="nowrap">package—</span><!--
-->on the one hand
<p></p>
<img class="pure-img" src="../images/phd-typesetting/libertinus.png" alt="Writing sample of Libertinus.">
<p></p>
and <span class="nowrap">Palatino—</span>or a clone of it, in the form of <a href="https://ctan.org/pkg/newpx">newpx</a><span class="nowrap">—</span>on the other:
<p></p>
<img class="pure-img" src="../images/phd-typesetting/palatino.png" alt="Writing sample of the newpx Palatino clone.">
<p></p>
Libertinus has one critical flaw,
which is that the italic <em>f</em> extends way too far to the right.
This clashes quite significantly with <code>boondoxupr</code>
<p></p>
<img class="pure-img" src="../images/phd-typesetting/libertinus-f.png" alt="The Libertinus italic f extends too far to the right when used with the boondoxupr calligraphic font.">
<p></p>
and the issue only gets exacerbated once <a href="https://ctan.org/pkg/microtype">microtype</a> comes into play and squashes those spaces even more.
Palatino, while not perfect, fares much better here:
<p></p>
<img class="pure-img" src="../images/phd-typesetting/palatino-f.png" alt="The newpx italic f is *fine*.">
<p></p>
As I didn’t want to manually check every occurrence of <em>f</em> at the end of a word and potentially add a thin space after it,
the choice was forced upon me.<!--
--><label for="sn-5" class="margin-toggle sidenote-number"></label><input type="checkbox" id="sn-5" class="margin-toggle" /><div class="sidenote"><em>Update on 2025-09-13</em>: I recently found out about the <code>mathic</code> option of the <code>mathtools</code> package,
which applies some italics correction to the <code>\(…\)</code> inline maths environment.
Using that, the above comparison becomes
<p></p>
<img src="../images/phd-typesetting/mathic.png" alt="A reference to a later theorem by typesetting it directly as 'Theorem xx.yy', where 'xx.yy' is a link to the result.">
<p></p>
which looks much better in both cases!
This means one again has the <span class="nowrap">power—</span>and <span class="nowrap">pain—</span>of choice.
I still think that, for this kind of technical text,
the look and feel of an old-style font such as Palatino just fits the general “vibe” better,
but your mileage may vary.</div><!--
-->
There are lots of knobs to turn with the <code>newpxtext</code> and <code>newpxmath</code> packages,
the full code looks like this:

<div class="highlight-tex" style="padding-left: 1em;"><pre><span></span><span class="k">\usepackage</span><span class="na">[osf,scosf,theoremfont,tighter,largesc,trueslanted,p]</span><span class="nb">{</span>newpxtext<span class="nb">}</span>
<span class="k">\usepackage</span><span class="na">[varqu,varl,scaled=.98]</span><span class="nb">{</span>zi4<span class="nb">}</span><span class="c">% inconsolata for mono</span>
<span class="k">\linespread</span><span class="nb">{</span>1.05<span class="nb">}</span><span class="c">% A bit more leading</span>
<span class="k">\usepackage</span><span class="nb">{</span>textcomp<span class="nb">}</span>
<span class="k">\usepackage</span><span class="na">[amsthm,upint]</span><span class="nb">{</span>newpxmath<span class="nb">}</span>
<span class="k">\usepackage</span><span class="na">[cal=boondoxupr,frak=esstix,frakscaled=0.95]</span><span class="nb">{</span>mathalfa<span class="nb">}</span>
</pre></div>
<p></p>
Some options should be self-explanatory<!--
--><span class="nowrap">—</span>like <code>tighter</code> or the <code>amsthm</code> <span class="nowrap">compatibility—</span><!--
-->while others might require some further explanation.
<ul>
<li><p></p>

<code>osf</code> and <code>scosf</code> make sure to enable
<a href="https://en.wikipedia.org/wiki/Text_figures">oldstyle figures</a>
everywhere-is, even within small caps,
and <code>largesc</code> slightly increases the size of small caps,
to more accurately model the size used by Linotype’s version of Palatino
(the default value here is really more petite caps than small caps).</li>
<li><p></p>

<code>theoremfont</code> changes the default font used for the plain theorem style of amsthm,
which I use for theorems, corollaries, and the like.
It keeps the text itself in italics, but uses upright figures, parentheses, and punctuation symbols.
For example, with this option, you get
theorem statements like this
<p></p>

<img class="pure-img" src="../images/phd-typesetting/theoremfont.png" alt="theoremfont forces parentheses to be upright, even when the rest of the text is set in italics.">
<p></p>

instead of (notice the parentheses surrounding the numbering or the colon)
<p></p>

<img class="pure-img" src="../images/phd-typesetting/no-theoremfont.png" alt="Not supplying the theoremfont option just sets parentheses as in the surrounding text."></li>
<li><p></p>

<code>p</code> uses proportional figures (numbers) instead of tabular ones.</li>
</ul>
<p></p>
The <a href="https://ctan.ebinger.cc/tex-archive/fonts/newpx/doc/newpxdoc.pdf">newpx manual</a>
doesn’t read quite as nicely as that of mathalfa or memoir,
but it’s still worth a read to get a feeling for all of the different options that exist.
<hr />
<p></p>
In terms of
<a href="https://ctan.org/pkg/microtype">microtype</a>
I’m actually quite happy with the default settings.
I added a little bit more
<a href="https://en.wikipedia.org/wiki/Letter_spacing">tracking</a>
to <span class="small-caps">small caps</span> and
<a href="https://en.wikipedia.org/wiki/Hanging_punctuation">protrusion</a>
to sub and superscripts:<!--
--><label for="sn-6" class="margin-toggle">⊕</label><input type="checkbox" id="sn-6" class="margin-toggle" /><div class="marginnote">Don’t forget the usual incantation to disable protrusion for the table of contents, though:

<div class="highlight-tex" style="padding-left: 1em;"><pre><span></span><span class="k">\newcommand</span><span class="nb">{</span><span class="k">\TOC</span><span class="nb">}{</span>
  <span class="k">\microtypesetup</span><span class="nb">{</span>protrusion=false<span class="nb">}</span>
  <span class="k">\tableofcontents</span>
  <span class="k">\microtypesetup</span><span class="nb">{</span>protrusion=true<span class="nb">}</span>
<span class="nb">}</span>
</pre></div></div><!--
-->

<div class="highlight-tex" style="padding-left: 1em;"><pre><span></span><span class="k">\usepackage</span><span class="na">[tracking=true,kerning=true]</span><span class="nb">{</span>microtype<span class="nb">}</span>
<span class="k">\SetTracking</span><span class="nb">{</span>encoding=*,shape=it*<span class="nb">}{</span>10<span class="nb">}</span>
<span class="k">\SetTracking</span><span class="nb">{</span>encoding=*<span class="nb">}{</span>10<span class="nb">}</span>
<span class="k">\SetProtrusion</span><span class="c">%</span>
  <span class="nb">{</span>encoding=T1,size=<span class="nb">{</span>7,8<span class="nb">}}</span>
  <span class="nb">{</span>1=<span class="nb">{</span> ,750<span class="nb">}</span>,2=<span class="nb">{</span> ,500<span class="nb">}</span>,3=<span class="nb">{</span> ,500<span class="nb">}</span>,4=<span class="nb">{</span> ,500<span class="nb">}</span>,5=<span class="nb">{</span> ,500<span class="nb">}</span>,
    6=<span class="nb">{</span> ,500<span class="nb">}</span>,7=<span class="nb">{</span> ,600<span class="nb">}</span>,8=<span class="nb">{</span> ,500<span class="nb">}</span>,9=<span class="nb">{</span> ,500<span class="nb">}</span>,0=<span class="nb">{</span> ,500<span class="nb">}}</span>
</pre></div>
<p></p>
I also added some additional
<a href="https://en.wikipedia.org/wiki/Kerning">kerning</a>
to certain <span class="nowrap">symbols—</span>just a tiny bit of space for en and em dashes,
so things “breathe” a bit more.

<div class="highlight-tex" style="padding-left: 1em;"><pre><span></span><span class="k">\SetExtraKerning</span><span class="na">[unit=space]</span><span class="nb">{</span>encoding=*<span class="nb">}</span><span class="c">% Add space to {left,right}</span>
<span class="c">%  –                      —</span>
  <span class="nb">{</span><span class="k">\textendash</span>=<span class="nb">{</span>100,100<span class="nb">}</span>, <span class="k">\textemdash</span>=<span class="nb">{</span>200,200<span class="nb">}}</span>
</pre></div>
<p></p>
This transforms text like this
<p></p>
<img src="../images/phd-typesetting/no-kerning.png" alt="No kerning">
<p></p>
into text like this
<p></p>
<img src="../images/phd-typesetting/kerning.png" alt="Kerning">
<p></p>
Quite subtle, but certainly noticeable, I think!
<hr />
<p></p>
One important change has to be made to <code>biblatex</code> when using a font’s oldstyle figures:
the references in the main text should nevertheless use
<a href="https://en.wikipedia.org/wiki/Text_figures">lining figures</a>.
That is, instead of
<p></p>
<img class="pure-img" src="../images/phd-typesetting/osf-citations.png" alt="Citations use oldstyle figures, even though most of the citation is all upper case letters.">
<p></p>
we rather want<!--
--><label for="sn-7" class="margin-toggle">⊕</label><input type="checkbox" id="sn-7" class="margin-toggle" /><div class="marginnote">Also pictured:
<a href="https://gwern.net/red">rubrication</a>
and starting sections with a few bits of small caps,
which I think I picked up from Edward Tufte.</div><!--
-->
<p></p>
<img class="pure-img" src="../images/phd-typesetting/lining-citations.png" alt="Citations using lining figures.">
<p></p>
Luckily, it’s pretty easy to change the field format:

<div class="highlight-tex" style="padding-left: 1em;"><pre><span></span><span class="k">\DeclareFieldFormat</span><span class="nb">{</span>labelalpha<span class="nb">}{</span><span class="k">\liningnums</span><span class="nb">{</span>#1<span class="nb">}}</span>
</pre></div>
<h2 id="miscellaneous-thoughts">Miscellaneous thoughts<a href="#miscellaneous-thoughts" class="floatleft sec-link">§</a></h2>
<p></p>
Small macros like the following
(inspired by <a href="https://tex.stackexchange.com/questions/422/how-do-i-repeat-a-theorem-number">this answer</a>)
were rather large quality of life improvements:

<div class="highlight-tex" style="padding-left: 1em;"><pre><span></span><span class="k">\makeatletter</span>
<span class="k">\newtheorem*</span><span class="nb">{</span>rep@theorem<span class="nb">}{</span><span class="k">\rep@title</span><span class="nb">}</span>
<span class="k">\newenvironment</span><span class="nb">{</span>reptheorem<span class="nb">}</span>[1]<span class="nb">{</span><span class="c">%</span>
  <span class="k">\def\rep@title</span><span class="nb">{</span><span class="k">\cref</span><span class="nb">{</span>#1<span class="nb">}}</span><span class="k">\begin</span><span class="nb">{</span>rep@theorem<span class="nb">}</span><span class="c">%</span>
<span class="nb">}{</span><span class="c">%</span>
  <span class="k">\end</span><span class="nb">{</span>rep@theorem<span class="nb">}</span><span class="c">%</span>
<span class="nb">}</span>
<span class="k">\makeatother</span>
</pre></div>
<p></p>
This creates an environment with an immediate reference to an already existing theorem, proposition, and so on,
which you might want to use in an <span class="nowrap">introduction—</span>much more sightly than something like <em>Theorem (Theorem x.y)</em>.
One can use it just like a regular <code>theoremstyle</code>:

<div class="highlight-tex" style="padding-left: 1em;"><pre><span></span><span class="c">% Label should exist elsewhere.</span>
<span class="k">\begin</span><span class="nb">{</span>reptheorem<span class="nb">}{</span>cor: pivotal<span class="nb">_</span>from<span class="nb">_</span>central<span class="nb">_</span>anti<span class="nb">_</span>central<span class="nb">}</span>
  Let <span class="s">\(</span><span class="nv">\cat</span><span class="nb">{C}</span><span class="s">\)</span> be a rigid monoidal category.
  If <span class="s">\(</span><span class="nv">\cat</span><span class="nb">{C}</span><span class="s">\)</span> admits a central Hopf monad <span class="s">\(</span><span class="nv">\mathfrak</span><span class="nb">{D}</span><span class="o">(</span><span class="nv">\cat</span><span class="nb">{C}</span><span class="o">)</span><span class="s">\)</span>
  and an anti<span class="k">\hyp</span><span class="nb">{}</span>central comodule monad <span class="s">\(</span><span class="nv">\mathfrak</span><span class="nb">{Q}</span><span class="o">(</span><span class="nv">\cat</span><span class="nb">{C}</span><span class="o">)</span><span class="s">\)</span>,
  then it is pivotal if and only if
  <span class="s">\(</span><span class="nv">\mathfrak</span><span class="nb">{D}</span><span class="o">(</span><span class="nv">\cat</span><span class="nb">{C}</span><span class="o">)</span><span class="nb"> </span><span class="nv">\cong</span><span class="nb"> </span><span class="nv">\mathfrak</span><span class="nb">{Q}</span><span class="o">(</span><span class="nv">\cat</span><span class="nb">{C}</span><span class="o">)</span><span class="s">\)</span>
  as monads.
<span class="k">\end</span><span class="nb">{</span>reptheorem<span class="nb">}</span>
</pre></div>
<p></p>
This will then be typeset like so, with a link to the actual result:
<p></p>
<img class="pure-img" src="../images/phd-typesetting/reptheorem.png" alt="A reference to a later theorem by typesetting it directly as 'Theorem xx.yy', where 'xx.yy' is a link to the result.">
<p></p>
This taught me a bit more about how <code>amsmath</code> environments work under the hood.
Plus, using <code>cleveref</code> saves one from having to define many different commands like <code>reptheorem</code>, <code>repcorollary</code>, and so on<!--
--><span class="nowrap">—</span>no going around obsessively checking whether a theorem invariably became a proposition a while ago.
<hr />
<p></p>
A general advice I <span class="nowrap">have—</span>and also got from an older PhD <span class="nowrap">student—</span>is to start early.<!--
--><label for="sn-8" class="margin-toggle sidenote-number"></label><input type="checkbox" id="sn-8" class="margin-toggle" /><div class="sidenote">Thanks, Florian!</div><!--
-->
Even just streamlining and unifying notation takes more time than one thinks,
especially if one also cares at least an epsilon about typography.
What thankfully cuts down on the time needed is that LaTeX has been around for a long time,
and most package manuals (that I’ve read) are quite high quality,
so chances are that someone else will probably have solved your super specific problem already.
Still, start early.
<hr />
<p></p>
Lastly, I will just leave the following <em>very important</em> bibLaTeX configuration here.

<div class="highlight-tex" style="padding-left: 1em;"><pre><span></span><span class="k">\DeclareDelimFormat</span><span class="nb">{</span>finalnamedelim<span class="nb">}{</span><span class="c">% Force Oxford comma</span>
  <span class="k">\ifnumgreater</span><span class="nb">{</span><span class="k">\value</span><span class="nb">{</span>liststop<span class="nb">}}{</span>2<span class="nb">}{</span>,<span class="nb">}{}</span><span class="c">%</span>
  <span class="k">\addspace\bibstring</span><span class="nb">{</span>and<span class="nb">}</span><span class="k">\space</span><span class="nb">}</span>
</pre></div>
<h2 id="references">References<a href="#references" class="floatleft sec-link">§</a></h2>
<div id="refs" class="references csl-bib-body" role="list">
<table>
<tbody>
<tr>
<td><div id="ref-bringhurst92:el-typ" class="csl-entry" role="listitem">
<div class="csl-left-margin">[Brin92] </div>
</div></td>
<td> </td>
<td><div class="csl-right-inline"><span class="smallcaps">Robert Bringhurst</span>: <em>The elements of typographic style</em>: Hartley & Marks, 1992</div></td>
</tr>
</tbody>
</table>
</div>
<!-- Body is included in the above file -->
    </section>
    <!-- A footer-ish thing above the actual boring footer for pretty
           fleurons and things that should only appear on posts. -->
      <div style="text-align: center;">
        <img class="fleuron-block" src="../images/fleuron.svg" alt="End of post fleuron">
        Have a comment? Write me an <a href="../about.html">email!</a>
      </div>
</article>
</div>
      <div id="footer">
        <!-- Left -->
        <a id="to-top" href="#">top</a>
        <!-- Right -->
        <a href="../atom.xml" style="font-variant:small-caps">rss</a>
        &nbsp;|&nbsp;
        <a href="https://github.com/slotThe/slotThe.github.io">Website source</a>
        &nbsp;|&nbsp;
        <a href="../impressum.html">Legal notice and privacy policy</a>
        <!-- Newline -->
        <p style="margin-top:0;">Everything on this website—<a style="color:var(--fg-footer-pipe)" href="https://en.wikipedia.org/wiki/Dash#Em_dash">em dash</a> and all—was created by a human</p>
      </div>
    </div>
  </body>
</html>
